{"ast":null,"code":"var _jsxFileName = \"E:\\\\test project\\\\frontend\\\\src\\\\components\\\\ChatInterface.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\nimport axios from 'axios';\nimport ThinkingAnimation from './ThinkingAnimation';\nimport { CodeBlock } from './CodeBlock';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ChatInterface = () => {\n  _s();\n  const [messages, setMessages] = useState([]);\n  const [inputText, setInputText] = useState('');\n  const [isThinking, setIsThinking] = useState(false);\n  const messagesEndRef = useRef(null);\n  const inputRef = useRef(null);\n  const scrollToBottom = useCallback(() => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  }, []);\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages, scrollToBottom]);\n  const handleSend = useCallback(async () => {\n    if (!inputText.trim()) return;\n    const userMessage = {\n      text: inputText,\n      isUser: true\n    };\n    setMessages(prev => [...prev, userMessage]);\n    setInputText('');\n    setIsThinking(true);\n    try {\n      const response = await axios.post('http://localhost:8000/api/chat', {\n        message: inputText\n      });\n\n      // The response now contains structured data\n      const responseData = response.data;\n\n      // Create a formatted message for display\n      let displayText = '';\n\n      // Add SQL query if available\n      if (responseData.sql_query) {\n        displayText += `SQL Query:\\n\\`\\`\\`sql\\n${responseData.sql_query}\\n\\`\\`\\`\\n\\n`;\n      }\n\n      // Add explanation if available\n      if (responseData.explanation && responseData.explanation.trim()) {\n        displayText += `${responseData.explanation}\\n\\n`;\n      }\n\n      // Add success/error message\n      if (!responseData.success && responseData.error) {\n        displayText += `Error: ${responseData.error}\\n\\n`;\n      } else if (responseData.message) {\n        displayText += `${responseData.message}\\n\\n`;\n      }\n      const botMessage = {\n        text: displayText,\n        isUser: false,\n        data: responseData.data // Store the structured data for rendering\n      };\n      setMessages(prev => [...prev, botMessage]);\n    } catch (error) {\n      console.error('Error sending message:', error);\n      setMessages(prev => [...prev, {\n        text: \"Sorry, I encountered an error while generating the response. Please try again.\",\n        isUser: false\n      }]);\n    } finally {\n      setIsThinking(false);\n    }\n  }, [inputText]);\n  useEffect(() => {\n    const handleKeyPress = e => {\n      // Ctrl/Cmd + Enter to send message\n      if ((e.ctrlKey || e.metaKey) && e.key === 'Enter') {\n        handleSend();\n      }\n      // Esc to clear input\n      if (e.key === 'Escape') {\n        setInputText('');\n      }\n      // Ctrl/Cmd + / to focus input\n      if ((e.ctrlKey || e.metaKey) && e.key === '/') {\n        var _inputRef$current;\n        e.preventDefault();\n        (_inputRef$current = inputRef.current) === null || _inputRef$current === void 0 ? void 0 : _inputRef$current.focus();\n      }\n    };\n    window.addEventListener('keydown', handleKeyPress);\n    return () => window.removeEventListener('keydown', handleKeyPress);\n  }, [handleSend, setInputText]);\n  const renderMessage = message => {\n    const text = message.text;\n    const sqlMatches = text.match(/```sql\\n([\\s\\S]*?)```/g);\n    if (!sqlMatches || message.isUser) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        style: {\n          backgroundColor: message.isUser ? 'var(--accent-color)' : 'white',\n          color: message.isUser ? 'white' : 'var(--text-primary)',\n          padding: '1rem 1.25rem',\n          maxWidth: '80%',\n          marginBottom: '1rem'\n        },\n        children: text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this);\n    }\n    const parts = text.split(/(```sql\\n[\\s\\S]*?```)/g);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        maxWidth: '80%',\n        marginBottom: '1rem'\n      },\n      children: parts.map((part, index) => {\n        if (part.startsWith('```sql')) {\n          const code = part.replace(/```sql\\n([\\s\\S]*?)```/, '$1').trim();\n          return /*#__PURE__*/_jsxDEV(CodeBlock, {\n            code: code\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 20\n          }, this);\n        }\n        return part ? /*#__PURE__*/_jsxDEV(\"p\", {\n          children: part\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 25\n        }, this) : null;\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card\",\n    style: {\n      maxWidth: '900px',\n      margin: '0 auto',\n      padding: '1.5rem',\n      height: '80vh',\n      display: 'flex',\n      flexDirection: 'column',\n      backgroundColor: 'white'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      style: {\n        flex: 1,\n        overflowY: 'auto',\n        padding: '1.25rem',\n        marginBottom: '1.25rem',\n        border: '1px solid var(--border-color)',\n        backgroundColor: '#f9fafb'\n      },\n      children: [messages.map((message, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: message.isUser ? 'flex-end' : 'flex-start'\n        },\n        children: renderMessage(message)\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 11\n      }, this)), isThinking && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'flex-start'\n        },\n        children: /*#__PURE__*/_jsxDEV(ThinkingAnimation, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: messagesEndRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      style: {\n        display: 'flex',\n        gap: '1rem',\n        padding: '1rem',\n        backgroundColor: 'white',\n        borderTop: '1px solid var(--border-color)'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n        ref: inputRef,\n        value: inputText,\n        onChange: e => setInputText(e.target.value),\n        onKeyDown: e => {\n          if (e.key === 'Enter' && !e.shiftKey) {\n            e.preventDefault();\n            handleSend();\n          }\n        },\n        placeholder: \"Type your question here... (Ctrl + / to focus, Ctrl + Enter to send)\",\n        style: {\n          flex: 1,\n          resize: 'none',\n          minHeight: '2.5rem',\n          maxHeight: '150px',\n          padding: '0.75rem 1rem',\n          backgroundColor: 'white'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => handleSend(),\n        disabled: isThinking || !inputText.trim(),\n        style: {\n          opacity: isThinking || !inputText.trim() ? 0.6 : 1\n        },\n        children: \"Send\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 140,\n    columnNumber: 5\n  }, this);\n};\n_s(ChatInterface, \"FO8RvGtYmBOTpO/eMfrgbV46lx4=\");\n_c = ChatInterface;\nexport default ChatInterface;\nvar _c;\n$RefreshReg$(_c, \"ChatInterface\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","axios","ThinkingAnimation","CodeBlock","jsxDEV","_jsxDEV","ChatInterface","_s","messages","setMessages","inputText","setInputText","isThinking","setIsThinking","messagesEndRef","inputRef","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","handleSend","trim","userMessage","text","isUser","prev","response","post","message","responseData","data","displayText","sql_query","explanation","success","error","botMessage","console","handleKeyPress","e","ctrlKey","metaKey","key","_inputRef$current","preventDefault","focus","window","addEventListener","removeEventListener","renderMessage","sqlMatches","match","className","style","backgroundColor","color","padding","maxWidth","marginBottom","children","fileName","_jsxFileName","lineNumber","columnNumber","parts","split","map","part","index","startsWith","code","replace","margin","height","display","flexDirection","flex","overflowY","border","justifyContent","ref","gap","borderTop","value","onChange","target","onKeyDown","shiftKey","placeholder","resize","minHeight","maxHeight","onClick","disabled","opacity","_c","$RefreshReg$"],"sources":["E:/test project/frontend/src/components/ChatInterface.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from 'react';\r\nimport axios from 'axios';\r\nimport ThinkingAnimation from './ThinkingAnimation';\r\nimport { CodeBlock } from './CodeBlock';\r\nimport QueryResultTable from './QueryResultTable';\r\n\r\ninterface Message {\r\n  text: string;\r\n  isUser: boolean;\r\n  data?: any;\r\n}\r\n\r\nconst ChatInterface: React.FC = () => {\r\n  const [messages, setMessages] = useState<Message[]>([]);\r\n  const [inputText, setInputText] = useState('');\r\n  const [isThinking, setIsThinking] = useState(false);\r\n  const messagesEndRef = useRef<HTMLDivElement>(null);\r\n  const inputRef = useRef<HTMLTextAreaElement>(null);\r\n\r\n  const scrollToBottom = useCallback(() => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    scrollToBottom();\r\n  }, [messages, scrollToBottom]);\r\n\r\n  const handleSend = useCallback(async () => {\r\n    if (!inputText.trim()) return;\r\n\r\n    const userMessage: Message = {\r\n      text: inputText,\r\n      isUser: true,\r\n    };\r\n\r\n    setMessages(prev => [...prev, userMessage]);\r\n    setInputText('');\r\n    setIsThinking(true);\r\n\r\n    try {\r\n      const response = await axios.post('http://localhost:8000/api/chat', {\r\n        message: inputText,\r\n      });\r\n\r\n      // The response now contains structured data\r\n      const responseData = response.data;\r\n\r\n      // Create a formatted message for display\r\n      let displayText = '';\r\n\r\n      // Add SQL query if available\r\n      if (responseData.sql_query) {\r\n        displayText += `SQL Query:\\n\\`\\`\\`sql\\n${responseData.sql_query}\\n\\`\\`\\`\\n\\n`;\r\n      }\r\n\r\n      // Add explanation if available\r\n      if (responseData.explanation && responseData.explanation.trim()) {\r\n        displayText += `${responseData.explanation}\\n\\n`;\r\n      }\r\n\r\n      // Add success/error message\r\n      if (!responseData.success && responseData.error) {\r\n        displayText += `Error: ${responseData.error}\\n\\n`;\r\n      } else if (responseData.message) {\r\n        displayText += `${responseData.message}\\n\\n`;\r\n      }\r\n\r\n      const botMessage: Message = {\r\n        text: displayText,\r\n        isUser: false,\r\n        data: responseData.data // Store the structured data for rendering\r\n      };\r\n\r\n      setMessages(prev => [...prev, botMessage]);\r\n    } catch (error) {\r\n      console.error('Error sending message:', error);\r\n      setMessages(prev => [...prev, {\r\n        text: \"Sorry, I encountered an error while generating the response. Please try again.\",\r\n        isUser: false\r\n      }]);\r\n    } finally {\r\n      setIsThinking(false);\r\n    }\r\n  }, [inputText]);\r\n\r\n  useEffect(() => {\r\n    const handleKeyPress = (e: KeyboardEvent) => {\r\n      // Ctrl/Cmd + Enter to send message\r\n      if ((e.ctrlKey || e.metaKey) && e.key === 'Enter') {\r\n        handleSend();\r\n      }\r\n      // Esc to clear input\r\n      if (e.key === 'Escape') {\r\n        setInputText('');\r\n      }\r\n      // Ctrl/Cmd + / to focus input\r\n      if ((e.ctrlKey || e.metaKey) && e.key === '/') {\r\n        e.preventDefault();\r\n        inputRef.current?.focus();\r\n      }\r\n    };\r\n\r\n    window.addEventListener('keydown', handleKeyPress);\r\n    return () => window.removeEventListener('keydown', handleKeyPress);\r\n  }, [handleSend, setInputText]);\r\n\r\n  const renderMessage = (message: Message) => {\r\n    const text = message.text;\r\n    const sqlMatches = text.match(/```sql\\n([\\s\\S]*?)```/g);\r\n\r\n    if (!sqlMatches || message.isUser) {\r\n      return (\r\n        <div className=\"card\" style={{\r\n          backgroundColor: message.isUser ? 'var(--accent-color)' : 'white',\r\n          color: message.isUser ? 'white' : 'var(--text-primary)',\r\n          padding: '1rem 1.25rem',\r\n          maxWidth: '80%',\r\n          marginBottom: '1rem'\r\n        }}>\r\n          {text}\r\n        </div>\r\n      );\r\n    }\r\n\r\n    const parts = text.split(/(```sql\\n[\\s\\S]*?```)/g);\r\n    return (\r\n      <div style={{ maxWidth: '80%', marginBottom: '1rem' }}>\r\n        {parts.map((part, index) => {\r\n          if (part.startsWith('```sql')) {\r\n            const code = part.replace(/```sql\\n([\\s\\S]*?)```/, '$1').trim();\r\n            return <CodeBlock key={index} code={code} />;\r\n          }\r\n          return part ? <p key={index}>{part}</p> : null;\r\n        })}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"card\" style={{\r\n      maxWidth: '900px',\r\n      margin: '0 auto',\r\n      padding: '1.5rem',\r\n      height: '80vh',\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      backgroundColor: 'white'\r\n    }}>\r\n      <div className=\"card\" style={{\r\n        flex: 1,\r\n        overflowY: 'auto',\r\n        padding: '1.25rem',\r\n        marginBottom: '1.25rem',\r\n        border: '1px solid var(--border-color)',\r\n        backgroundColor: '#f9fafb'\r\n      }}>\r\n        {messages.map((message, index) => (\r\n          <div\r\n            key={index}\r\n            style={{\r\n              display: 'flex',\r\n              justifyContent: message.isUser ? 'flex-end' : 'flex-start',\r\n            }}\r\n          >\r\n            {renderMessage(message)}\r\n          </div>\r\n        ))}\r\n        {isThinking && (\r\n          <div style={{ display: 'flex', justifyContent: 'flex-start' }}>\r\n            <ThinkingAnimation />\r\n          </div>\r\n        )}\r\n        <div ref={messagesEndRef} />\r\n      </div>\r\n\r\n      <div className=\"card\" style={{\r\n        display: 'flex',\r\n        gap: '1rem',\r\n        padding: '1rem',\r\n        backgroundColor: 'white',\r\n        borderTop: '1px solid var(--border-color)'\r\n      }}>\r\n        <textarea\r\n          ref={inputRef}\r\n          value={inputText}\r\n          onChange={(e) => setInputText(e.target.value)}\r\n          onKeyDown={(e) => {\r\n            if (e.key === 'Enter' && !e.shiftKey) {\r\n              e.preventDefault();\r\n              handleSend();\r\n            }\r\n          }}\r\n          placeholder=\"Type your question here... (Ctrl + / to focus, Ctrl + Enter to send)\"\r\n          style={{\r\n            flex: 1,\r\n            resize: 'none',\r\n            minHeight: '2.5rem',\r\n            maxHeight: '150px',\r\n            padding: '0.75rem 1rem',\r\n            backgroundColor: 'white'\r\n          }}\r\n        />\r\n        <button\r\n          onClick={() => handleSend()}\r\n          disabled={isThinking || !inputText.trim()}\r\n          style={{\r\n            opacity: isThinking || !inputText.trim() ? 0.6 : 1\r\n          }}\r\n        >\r\n          Send\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChatInterface;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,MAAM,EAAEC,WAAW,QAAQ,OAAO;AACvE,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,iBAAiB,MAAM,qBAAqB;AACnD,SAASC,SAAS,QAAQ,aAAa;AAAC,SAAAC,MAAA,IAAAC,OAAA;AASxC,MAAMC,aAAuB,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACpC,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGZ,QAAQ,CAAY,EAAE,CAAC;EACvD,MAAM,CAACa,SAAS,EAAEC,YAAY,CAAC,GAAGd,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAACe,UAAU,EAAEC,aAAa,CAAC,GAAGhB,QAAQ,CAAC,KAAK,CAAC;EACnD,MAAMiB,cAAc,GAAGf,MAAM,CAAiB,IAAI,CAAC;EACnD,MAAMgB,QAAQ,GAAGhB,MAAM,CAAsB,IAAI,CAAC;EAElD,MAAMiB,cAAc,GAAGhB,WAAW,CAAC,MAAM;IAAA,IAAAiB,qBAAA;IACvC,CAAAA,qBAAA,GAAAH,cAAc,CAACI,OAAO,cAAAD,qBAAA,uBAAtBA,qBAAA,CAAwBE,cAAc,CAAC;MAAEC,QAAQ,EAAE;IAAS,CAAC,CAAC;EAChE,CAAC,EAAE,EAAE,CAAC;EAENtB,SAAS,CAAC,MAAM;IACdkB,cAAc,CAAC,CAAC;EAClB,CAAC,EAAE,CAACR,QAAQ,EAAEQ,cAAc,CAAC,CAAC;EAE9B,MAAMK,UAAU,GAAGrB,WAAW,CAAC,YAAY;IACzC,IAAI,CAACU,SAAS,CAACY,IAAI,CAAC,CAAC,EAAE;IAEvB,MAAMC,WAAoB,GAAG;MAC3BC,IAAI,EAAEd,SAAS;MACfe,MAAM,EAAE;IACV,CAAC;IAEDhB,WAAW,CAACiB,IAAI,IAAI,CAAC,GAAGA,IAAI,EAAEH,WAAW,CAAC,CAAC;IAC3CZ,YAAY,CAAC,EAAE,CAAC;IAChBE,aAAa,CAAC,IAAI,CAAC;IAEnB,IAAI;MACF,MAAMc,QAAQ,GAAG,MAAM1B,KAAK,CAAC2B,IAAI,CAAC,gCAAgC,EAAE;QAClEC,OAAO,EAAEnB;MACX,CAAC,CAAC;;MAEF;MACA,MAAMoB,YAAY,GAAGH,QAAQ,CAACI,IAAI;;MAElC;MACA,IAAIC,WAAW,GAAG,EAAE;;MAEpB;MACA,IAAIF,YAAY,CAACG,SAAS,EAAE;QAC1BD,WAAW,IAAI,0BAA0BF,YAAY,CAACG,SAAS,cAAc;MAC/E;;MAEA;MACA,IAAIH,YAAY,CAACI,WAAW,IAAIJ,YAAY,CAACI,WAAW,CAACZ,IAAI,CAAC,CAAC,EAAE;QAC/DU,WAAW,IAAI,GAAGF,YAAY,CAACI,WAAW,MAAM;MAClD;;MAEA;MACA,IAAI,CAACJ,YAAY,CAACK,OAAO,IAAIL,YAAY,CAACM,KAAK,EAAE;QAC/CJ,WAAW,IAAI,UAAUF,YAAY,CAACM,KAAK,MAAM;MACnD,CAAC,MAAM,IAAIN,YAAY,CAACD,OAAO,EAAE;QAC/BG,WAAW,IAAI,GAAGF,YAAY,CAACD,OAAO,MAAM;MAC9C;MAEA,MAAMQ,UAAmB,GAAG;QAC1Bb,IAAI,EAAEQ,WAAW;QACjBP,MAAM,EAAE,KAAK;QACbM,IAAI,EAAED,YAAY,CAACC,IAAI,CAAC;MAC1B,CAAC;MAEDtB,WAAW,CAACiB,IAAI,IAAI,CAAC,GAAGA,IAAI,EAAEW,UAAU,CAAC,CAAC;IAC5C,CAAC,CAAC,OAAOD,KAAK,EAAE;MACdE,OAAO,CAACF,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;MAC9C3B,WAAW,CAACiB,IAAI,IAAI,CAAC,GAAGA,IAAI,EAAE;QAC5BF,IAAI,EAAE,gFAAgF;QACtFC,MAAM,EAAE;MACV,CAAC,CAAC,CAAC;IACL,CAAC,SAAS;MACRZ,aAAa,CAAC,KAAK,CAAC;IACtB;EACF,CAAC,EAAE,CAACH,SAAS,CAAC,CAAC;EAEfZ,SAAS,CAAC,MAAM;IACd,MAAMyC,cAAc,GAAIC,CAAgB,IAAK;MAC3C;MACA,IAAI,CAACA,CAAC,CAACC,OAAO,IAAID,CAAC,CAACE,OAAO,KAAKF,CAAC,CAACG,GAAG,KAAK,OAAO,EAAE;QACjDtB,UAAU,CAAC,CAAC;MACd;MACA;MACA,IAAImB,CAAC,CAACG,GAAG,KAAK,QAAQ,EAAE;QACtBhC,YAAY,CAAC,EAAE,CAAC;MAClB;MACA;MACA,IAAI,CAAC6B,CAAC,CAACC,OAAO,IAAID,CAAC,CAACE,OAAO,KAAKF,CAAC,CAACG,GAAG,KAAK,GAAG,EAAE;QAAA,IAAAC,iBAAA;QAC7CJ,CAAC,CAACK,cAAc,CAAC,CAAC;QAClB,CAAAD,iBAAA,GAAA7B,QAAQ,CAACG,OAAO,cAAA0B,iBAAA,uBAAhBA,iBAAA,CAAkBE,KAAK,CAAC,CAAC;MAC3B;IACF,CAAC;IAEDC,MAAM,CAACC,gBAAgB,CAAC,SAAS,EAAET,cAAc,CAAC;IAClD,OAAO,MAAMQ,MAAM,CAACE,mBAAmB,CAAC,SAAS,EAAEV,cAAc,CAAC;EACpE,CAAC,EAAE,CAAClB,UAAU,EAAEV,YAAY,CAAC,CAAC;EAE9B,MAAMuC,aAAa,GAAIrB,OAAgB,IAAK;IAC1C,MAAML,IAAI,GAAGK,OAAO,CAACL,IAAI;IACzB,MAAM2B,UAAU,GAAG3B,IAAI,CAAC4B,KAAK,CAAC,wBAAwB,CAAC;IAEvD,IAAI,CAACD,UAAU,IAAItB,OAAO,CAACJ,MAAM,EAAE;MACjC,oBACEpB,OAAA;QAAKgD,SAAS,EAAC,MAAM;QAACC,KAAK,EAAE;UAC3BC,eAAe,EAAE1B,OAAO,CAACJ,MAAM,GAAG,qBAAqB,GAAG,OAAO;UACjE+B,KAAK,EAAE3B,OAAO,CAACJ,MAAM,GAAG,OAAO,GAAG,qBAAqB;UACvDgC,OAAO,EAAE,cAAc;UACvBC,QAAQ,EAAE,KAAK;UACfC,YAAY,EAAE;QAChB,CAAE;QAAAC,QAAA,EACCpC;MAAI;QAAAqC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACF,CAAC;IAEV;IAEA,MAAMC,KAAK,GAAGzC,IAAI,CAAC0C,KAAK,CAAC,wBAAwB,CAAC;IAClD,oBACE7D,OAAA;MAAKiD,KAAK,EAAE;QAAEI,QAAQ,EAAE,KAAK;QAAEC,YAAY,EAAE;MAAO,CAAE;MAAAC,QAAA,EACnDK,KAAK,CAACE,GAAG,CAAC,CAACC,IAAI,EAAEC,KAAK,KAAK;QAC1B,IAAID,IAAI,CAACE,UAAU,CAAC,QAAQ,CAAC,EAAE;UAC7B,MAAMC,IAAI,GAAGH,IAAI,CAACI,OAAO,CAAC,uBAAuB,EAAE,IAAI,CAAC,CAAClD,IAAI,CAAC,CAAC;UAC/D,oBAAOjB,OAAA,CAACF,SAAS;YAAaoE,IAAI,EAAEA;UAAK,GAAlBF,KAAK;YAAAR,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAe,CAAC;QAC9C;QACA,OAAOI,IAAI,gBAAG/D,OAAA;UAAAuD,QAAA,EAAgBQ;QAAI,GAAZC,KAAK;UAAAR,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAW,CAAC,GAAG,IAAI;MAChD,CAAC;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC;EAEV,CAAC;EAED,oBACE3D,OAAA;IAAKgD,SAAS,EAAC,MAAM;IAACC,KAAK,EAAE;MAC3BI,QAAQ,EAAE,OAAO;MACjBe,MAAM,EAAE,QAAQ;MAChBhB,OAAO,EAAE,QAAQ;MACjBiB,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE,MAAM;MACfC,aAAa,EAAE,QAAQ;MACvBrB,eAAe,EAAE;IACnB,CAAE;IAAAK,QAAA,gBACAvD,OAAA;MAAKgD,SAAS,EAAC,MAAM;MAACC,KAAK,EAAE;QAC3BuB,IAAI,EAAE,CAAC;QACPC,SAAS,EAAE,MAAM;QACjBrB,OAAO,EAAE,SAAS;QAClBE,YAAY,EAAE,SAAS;QACvBoB,MAAM,EAAE,+BAA+B;QACvCxB,eAAe,EAAE;MACnB,CAAE;MAAAK,QAAA,GACCpD,QAAQ,CAAC2D,GAAG,CAAC,CAACtC,OAAO,EAAEwC,KAAK,kBAC3BhE,OAAA;QAEEiD,KAAK,EAAE;UACLqB,OAAO,EAAE,MAAM;UACfK,cAAc,EAAEnD,OAAO,CAACJ,MAAM,GAAG,UAAU,GAAG;QAChD,CAAE;QAAAmC,QAAA,EAEDV,aAAa,CAACrB,OAAO;MAAC,GANlBwC,KAAK;QAAAR,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAOP,CACN,CAAC,EACDpD,UAAU,iBACTP,OAAA;QAAKiD,KAAK,EAAE;UAAEqB,OAAO,EAAE,MAAM;UAAEK,cAAc,EAAE;QAAa,CAAE;QAAApB,QAAA,eAC5DvD,OAAA,CAACH,iBAAiB;UAAA2D,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAClB,CACN,eACD3D,OAAA;QAAK4E,GAAG,EAAEnE;MAAe;QAAA+C,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACzB,CAAC,eAEN3D,OAAA;MAAKgD,SAAS,EAAC,MAAM;MAACC,KAAK,EAAE;QAC3BqB,OAAO,EAAE,MAAM;QACfO,GAAG,EAAE,MAAM;QACXzB,OAAO,EAAE,MAAM;QACfF,eAAe,EAAE,OAAO;QACxB4B,SAAS,EAAE;MACb,CAAE;MAAAvB,QAAA,gBACAvD,OAAA;QACE4E,GAAG,EAAElE,QAAS;QACdqE,KAAK,EAAE1E,SAAU;QACjB2E,QAAQ,EAAG7C,CAAC,IAAK7B,YAAY,CAAC6B,CAAC,CAAC8C,MAAM,CAACF,KAAK,CAAE;QAC9CG,SAAS,EAAG/C,CAAC,IAAK;UAChB,IAAIA,CAAC,CAACG,GAAG,KAAK,OAAO,IAAI,CAACH,CAAC,CAACgD,QAAQ,EAAE;YACpChD,CAAC,CAACK,cAAc,CAAC,CAAC;YAClBxB,UAAU,CAAC,CAAC;UACd;QACF,CAAE;QACFoE,WAAW,EAAC,sEAAsE;QAClFnC,KAAK,EAAE;UACLuB,IAAI,EAAE,CAAC;UACPa,MAAM,EAAE,MAAM;UACdC,SAAS,EAAE,QAAQ;UACnBC,SAAS,EAAE,OAAO;UAClBnC,OAAO,EAAE,cAAc;UACvBF,eAAe,EAAE;QACnB;MAAE;QAAAM,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eACF3D,OAAA;QACEwF,OAAO,EAAEA,CAAA,KAAMxE,UAAU,CAAC,CAAE;QAC5ByE,QAAQ,EAAElF,UAAU,IAAI,CAACF,SAAS,CAACY,IAAI,CAAC,CAAE;QAC1CgC,KAAK,EAAE;UACLyC,OAAO,EAAEnF,UAAU,IAAI,CAACF,SAAS,CAACY,IAAI,CAAC,CAAC,GAAG,GAAG,GAAG;QACnD,CAAE;QAAAsC,QAAA,EACH;MAED;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAACzD,EAAA,CA1MID,aAAuB;AAAA0F,EAAA,GAAvB1F,aAAuB;AA4M7B,eAAeA,aAAa;AAAC,IAAA0F,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}